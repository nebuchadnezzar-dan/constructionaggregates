import*as actionTypes from"../actions/actionTypes";const initialState={itemsToBuy:[],popup:!1,quantityForm:1,truck:"",finalPopup:!1,actionButton:"",address:"",truckSearchInput:"",discount:0,customer:"",activeRow:"",displayCustomer:"display"},reducer=(state=initialState,action)=>{let itemsCopy;switch(action.type){case actionTypes.ADD_ITEMS_TO_SALES:const itemIndex=(itemsCopy=[...state.itemsToBuy]).findIndex(item=>item.materials===action.payload.materials);return-1!==itemIndex?itemsCopy[itemIndex]={...itemsCopy[itemIndex],quantity:+itemsCopy[itemIndex].quantity+ +state.quantityForm}:itemsCopy=itemsCopy.concat({...action.payload,quantity:state.quantityForm}),{...state,itemsToBuy:itemsCopy,quantityForm:1};case actionTypes.TOGGLE_POP_UP:return{...state,popup:action.payload};case actionTypes.ON_CHANGE_QUANTITY:return{...state,quantityForm:action.payload};case actionTypes.SET_TRUCK:return{...state,truck:action.payload};case actionTypes.TOGGLE_FINAL_POP_UP:return{...state,finalPopup:action.payload.toggle,actionButton:action.payload.name,popup:!1};case actionTypes.VOID_ITEM:return{...state,itemsToBuy:state.itemsToBuy.filter((_,i)=>i!==state.activeRow),activeRow:"",finalPopup:!1};case actionTypes.EDIT_ADDRESS:return{...state,address:action.payload};case actionTypes.RESET_POS:return{...state,itemsToBuy:[],popup:!1,quantityForm:1,truck:"",finalPopup:!1,address:"",truckSearchInput:"",discount:0,customer:"",activeRow:"",displayCustomer:"display"};case actionTypes.EDIT_TRUCK_SEARCH_FORM:return{...state,truckSearchInput:action.payload};case actionTypes.ADD_DISCOUNT:return{...state,discount:action.payload,finalPopup:!1};case actionTypes.SET_CUSTOMER:return{...state,customer:action.payload,displayCustomer:"display"};case actionTypes.TOGGLE_CUSTOMER_DISPLAY:return{...state,displayCustomer:action.payload};case actionTypes.SET_ACTIVE_ITEM_ROW:return{...state,activeRow:action.payload};case actionTypes.EDIT_QUANTITY:return(itemsCopy=[...state.itemsToBuy])[state.activeRow].quantity=action.payload,{...state,itemsToBuy:itemsCopy,finalPopup:!1};default:return state}};export default reducer;